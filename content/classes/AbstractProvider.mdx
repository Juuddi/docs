---
title: AbstractProvider
---

An **AbstractProvider** provides a base class for other sub-classes to implement the [**Provider**](/content/interfaces/Provider)
API by normalizing input arguments and formatting output results as well as tracking events for consistent behaviour
on an eventually-consistent network.

## Extended by

- [`JsonRpcApiProvider`](/content/classes/JsonRpcApiProvider)

## Type parameters

| Type parameter | Value |
| :------ | :------ |
| `C` | [`FetchRequest`](/content/classes/FetchRequest) |

## Implements

- [`Provider`](/content/interfaces/Provider)

## Constructors

### new AbstractProvider()

```ts
new AbstractProvider<C>(_network?, options?): AbstractProvider<C>
```

Create a new **AbstractProvider** connected to `network`, or use the various network detection capabilities to
discover the [**Network**](/content/classes/Network) if necessary.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `_network`? | [`Networkish`](/content/type-aliases/Networkish) | The network to connect to, or `"any"` to |
| `options`? | [`AbstractProviderOptions`](/content/type-aliases/AbstractProviderOptions) | The options to configure the provider. |

#### Returns

[`AbstractProvider`](/content/classes/AbstractProvider)\<`C`\>

#### Source

[src/providers/abstract-provider.ts:612](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L612)

## Accessors

### destroyed

```ts
get destroyed(): boolean
```

If this provider has been destroyed using the [**destroy**](/content/classes/AbstractProvider#destroy) method.

Once destroyed, all resources are reclaimed, internal event loops and timers are cleaned up and no further
requests may be sent to the provider.

#### Returns

`boolean`

#### Source

[src/providers/abstract-provider.ts:1811](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1811)

***

### paused

```ts
get paused(): boolean
```

Whether the provider is currently paused.

A paused provider will not emit any events, and generally should not make any requests to the network, but that
is up to sub-classes to manage.

Setting `paused = true` is identical to calling `.pause(false)`, which will buffer any events that occur while
paused until the provider is unpaused.

#### Returns

`boolean`

Whether the provider is paused.

#### Source

[src/providers/abstract-provider.ts:1843](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1843)

***

### plugins

```ts
get plugins(): AbstractProviderPlugin[]
```

Returns all the registered plug-ins.

#### Returns

[`AbstractProviderPlugin`](/content/interfaces/AbstractProviderPlugin)[]

An array of all the registered plug-ins.

#### Source

[src/providers/abstract-provider.ts:761](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L761)

***

### provider

```ts
get provider(): this
```

Returns `this`, to allow an **AbstractProvider** to implement the [Contract Runner](../classes/ContractRunner)
interface.

#### Returns

`this`

#### Source

[src/providers/abstract-provider.ts:752](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L752)

## Methods

### \_clearTimeout()

```ts
_clearTimeout(timerId): void
```

Clear a timer created using the [**_setTimeout**](/content/classes/AbstractProvider#_settimeout) method.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `timerId` | `number` | The ID of the timer to clear. |

#### Returns

`void`

#### Source

[src/providers/abstract-provider.ts:1543](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1543)

***

### \_detectNetwork()

```ts
_detectNetwork(shard?): Promise<Network>
```

Resolves to the Network, forcing a network detection using whatever technique the sub-class requires.

Sub-classes **must** override this.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shard`? | `string` | The shard to use for the network detection. |

#### Returns

`Promise`\<[`Network`](/content/classes/Network)\>

A promise resolving to the network.

#### Source

[src/providers/abstract-provider.ts:892](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L892)

***

### \_forEachSubscriber()

```ts
_forEachSubscriber(func): void
```

Perform `func` on each subscriber.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `func` | (`s`) => `void` | The function to perform. |

#### Returns

`void`

#### Source

[src/providers/abstract-provider.ts:1590](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1590)

***

### \_getAddress()

```ts
_getAddress(address): string | Promise<string>
```

Returns or resolves to the address for `address`, resolving [**Addressable**](/content/interfaces/Addressable) objects and
returning if already an address.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `address` | [`AddressLike`](/content/type-aliases/AddressLike) | The address to normalize. |

#### Returns

`string` \| `Promise`\<`string`\>

The normalized address.

#### Source

[src/providers/abstract-provider.ts:933](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L933)

***

### \_getBlockTag()

```ts
_getBlockTag(shard?, blockTag?): string | Promise<string>
```

Returns or resolves to a valid block tag for `blockTag`, resolving negative values and returning if already a
valid block tag.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `shard`? | `string` | The shard to use for the block tag. |
| `blockTag`? | [`BlockTag`](/content/type-aliases/BlockTag) | The block tag to normalize. |

#### Returns

`string` \| `Promise`\<`string`\>

A promise that resolves to a valid block tag.

#### Source

[src/providers/abstract-provider.ts:946](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L946)

***

### \_getFilter()

```ts
_getFilter(filter): PerformActionFilter | Promise<PerformActionFilter>
```

Returns or resolves to a filter for `filter`, resolving any [**Addressable**](/content/interfaces/Addressable) object and
returning if already a valid filter.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `filter` | [`Filter`](/content/interfaces/Filter) \| [`FilterByBlockHash`](/content/interfaces/FilterByBlockHash) | The filter to normalize. |

#### Returns

[`PerformActionFilter`](/content/type-aliases/PerformActionFilter) \| `Promise`\<[`PerformActionFilter`](/content/type-aliases/PerformActionFilter)\>

A promise that resolves to a valid filter.

#### Source

[src/providers/abstract-provider.ts:993](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L993)

***

### \_getSubscriber()

```ts
_getSubscriber(sub): Subscriber
```

Sub-classes may override this to customize subscription implementations.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `sub` | [`Subscription`](/content/type-aliases/Subscription) | The subscription to get the subscriber for. |

#### Returns

[`Subscriber`](/content/interfaces/Subscriber)

#### Source

[src/providers/abstract-provider.ts:1601](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1601)

***

### \_getTransactionRequest()

```ts
_getTransactionRequest(_request): PerformActionTransaction | Promise<PerformActionTransaction>
```

Returns or resovles to a transaction for `request`, resolving any [**Addressable**](/content/interfaces/Addressable) and
returning if already a valid transaction.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `_request` | [`TransactionRequest`](/content/type-aliases/TransactionRequest) | The transaction to normalize. |

#### Returns

[`PerformActionTransaction`](/content/type-aliases/PerformActionTransaction) \| `Promise`\<[`PerformActionTransaction`](/content/type-aliases/PerformActionTransaction)\>

A promise that resolves to a valid
  transaction.

#### Source

[src/providers/abstract-provider.ts:1095](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1095)

***

### \_perform()

```ts
_perform<T>(req): Promise<T>
```

Sub-classes should use this to perform all built-in operations. All methods sanitizes and normalizes the values
passed into this.

Sub-classes **must** override this.

#### Type parameters

| Type parameter | Value |
| :------ | :------ |
| `T` | `any` |

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `req` | [`PerformActionRequest`](/content/type-aliases/PerformActionRequest) | The request to perform. |

#### Returns

`Promise`\<`T`\>

A promise resolving to the result of the operation.

#### Source

[src/providers/abstract-provider.ts:908](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L908)

***

### \_recoverSubscriber()

```ts
_recoverSubscriber(oldSub, newSub): void
```

If a [**Subscriber**](/content/interfaces/Subscriber) fails and needs to replace itself, this method may be used.

For example, this is used for providers when using the `quai_getFilterChanges` method, which can return null if
state filters are not supported by the backend, allowing the Subscriber to swap in a `PollingEventSubscriber`.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `oldSub` | [`Subscriber`](/content/interfaces/Subscriber) | The subscriber to replace. |
| `newSub` | [`Subscriber`](/content/interfaces/Subscriber) | The new subscriber. |

#### Returns

`void`

#### Todo

PollingEventSubscriber is not longer exported, replace this link or

#### Source

[src/providers/abstract-provider.ts:1622](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1622)

***

### \_setTimeout()

```ts
_setTimeout(_func, timeout?): number
```

Create a timer that will execute `func` after at least `timeout` (in ms). If `timeout` is unspecified, then
`func` will execute in the next event loop.

[**Pausing**](/content/classes/AbstractProvider#pause) the provider will pause any associated timers.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `_func` | () => `void` | The function to execute. |
| `timeout`? | `number` | The time to wait before executing `func`. |

#### Returns

`number`

The ID of the timer.

#### Source

[src/providers/abstract-provider.ts:1565](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1565)

***

### \_wrapBlock()

```ts
_wrapBlock(value, network): Block
```

Provides the opportunity for a sub-class to wrap a block before returning it, to add additional properties or an
alternate sub-class of [**Block**](/content/classes/Block).

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | [`BlockParams`](/content/interfaces/BlockParams) | The block to wrap. |
| `network` | [`Network`](/content/classes/Network) | The network the block was on. |

#### Returns

[`Block`](/content/classes/Block)

The wrapped block.

#### Source

[src/providers/abstract-provider.ts:827](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L827)

***

### \_wrapLog()

```ts
_wrapLog(value, network): Log
```

Provides the opportunity for a sub-class to wrap a log before returning it, to add additional properties or an
alternate sub-class of [**Log**](/content/classes/Log).

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | [`LogParams`](/content/interfaces/LogParams) | The log to wrap. |
| `network` | [`Network`](/content/classes/Network) | The network the log was on. |

#### Returns

[`Log`](/content/classes/Log)

The wrapped log.

#### Source

[src/providers/abstract-provider.ts:844](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L844)

***

### \_wrapTransactionReceipt()

```ts
_wrapTransactionReceipt(value, network): TransactionReceipt
```

Provides the opportunity for a sub-class to wrap a transaction receipt before returning it, to add additional
properties or an [**TransactionReceipt**](/content/classes/TransactionReceipt).

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `value` | [`TransactionReceiptParams`](/content/interfaces/TransactionReceiptParams) | The transaction receipt to wrap. |
| `network` | [`Network`](/content/classes/Network) | The network the transaction was on. |

#### Returns

[`TransactionReceipt`](/content/classes/TransactionReceipt)

The wrapped transaction receipt.

#### Source

[src/providers/abstract-provider.ts:859](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L859)

***

### \_wrapTransactionResponse()

```ts
_wrapTransactionResponse(tx, network): TransactionResponse
```

Provides the opportunity for a sub-class to wrap a transaction response before returning it, to add additional
properties or an alternate sub-class of [**TransactionResponse**](/content/type-aliases/TransactionResponse).

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `tx` | [`TransactionResponseParams`](/content/type-aliases/TransactionResponseParams) | The transaction response to wrap. |
| `network` | [`Network`](/content/classes/Network) | The network the transaction was on. |

#### Returns

[`TransactionResponse`](/content/type-aliases/TransactionResponse)

The wrapped transaction response.

#### Source

[src/providers/abstract-provider.ts:874](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L874)

***

### attachPlugin()

```ts
attachPlugin(plugin): this
```

Attach a new plug-in.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `plugin` | [`AbstractProviderPlugin`](/content/interfaces/AbstractProviderPlugin) | The plug-in to attach. |

#### Returns

`this`

#### Source

[src/providers/abstract-provider.ts:770](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L770)

***

### destroy()

```ts
destroy(): void
```

Sub-classes may use this to shutdown any sockets or release their resources and reject any pending requests.

Sub-classes **must** call `super.destroy()`.

#### Returns

`void`

#### Implementation of

[`Provider`](/content/interfaces/Provider).[`destroy`](/content/interfaces/Provider#destroy)

#### Source

[src/providers/abstract-provider.ts:1820](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1820)

***

### getPlugin()

```ts
getPlugin<T>(name): null | T
```

Get a plugin by name.

#### Type parameters

| Type parameter | Value |
| :------ | :------ |
| `T` *extends* [`AbstractProviderPlugin`](/content/interfaces/AbstractProviderPlugin) | [`AbstractProviderPlugin`](/content/interfaces/AbstractProviderPlugin) |

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `name` | `string` | The name of the plugin to get. |

#### Returns

`null` \| `T`

The plugin, or `null` if not found.

#### Source

[src/providers/abstract-provider.ts:785](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L785)

***

### pause()

```ts
pause(dropWhilePaused?): void
```

Pause the provider. If `dropWhilePaused`, any events that occur while paused are dropped, otherwise all events
will be emitted once the provider is unpaused.

#### Parameters

| Parameter | Type | Description |
| :------ | :------ | :------ |
| `dropWhilePaused`? | `boolean` | Whether to drop events while paused. |

#### Returns

`void`

#### Source

[src/providers/abstract-provider.ts:1864](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1864)

***

### resume()

```ts
resume(): void
```

Resume the provider.

#### Returns

`void`

#### Source

[src/providers/abstract-provider.ts:1893](https://github.com/dominant-strategies/quais-6.js/blob/95934f9b18ff90a0666dd9772179b612f2ad5510/src/providers/abstract-provider.ts#L1893)
