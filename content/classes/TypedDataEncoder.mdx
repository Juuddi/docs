[**quais6**](../README.md) • **Docs**

***

[quais6](../globals.md) / TypedDataEncoder

# Class: TypedDataEncoder

A **TypedDataEncode** prepares and encodes [EIP-712](https://eips.ethereum.org/EIPS/eip-712) payloads
 for signed typed data.

 This is useful for those that wish to compute various components of a
 typed data hash, primary types, or sub-components, but generally the
 higher level [`Signer.signTypedData`](../classes/Signer#signTypedData) is more useful.

## Constructors

### new TypedDataEncoder()

> **new TypedDataEncoder**(`types`): [`TypedDataEncoder`](TypedDataEncoder.md)

Create a new **TypedDataEncoder** for `types`.

 This performs all necessary checking that types are valid and
 do not violate the [EIP-712](https://eips.ethereum.org/EIPS/eip-712) 
 structural constraints as well as computes the [**primaryType**](TypedDataEncoder.md#primarytype).

#### Parameters

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

#### Returns

[`TypedDataEncoder`](TypedDataEncoder.md)

#### Source

[src.ts/hash/typed-data.ts:229](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L229)

## Properties

### primaryType

> `readonly` **primaryType**: `string`

The primary type for the structured [**types**](TypedDataEncoder.md#types).

 This is derived automatically from the [**types**](TypedDataEncoder.md#types), 
 since no recursion is possible, once the DAG for the types is 
 consturcted internally, the primary type must be the only remaining
 type with no parent nodes.

#### Source

[src.ts/hash/typed-data.ts:207](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L207)

## Accessors

### types

> `get` **types**(): `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types.

#### Returns

`Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

#### Source

[src.ts/hash/typed-data.ts:214](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L214)

## Methods

### encode()

> **encode**(`value`): `string`

Return the fulled encoded `value` for the [**types**](TypedDataEncoder.md#types).

#### Parameters

• **value**: `Record`\<`string`, `any`\>

The value to encode.

#### Returns

`string`

The encoded value.

#### Source

[src.ts/hash/typed-data.ts:409](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L409)

***

### encodeData()

> **encodeData**(`type`, `value`): `string`

Return the encoded `value` for the `type`.

#### Parameters

• **type**: `string`

The type to encode the value for.

• **value**: `any`

The value to encode.

#### Returns

`string`

The encoded value.

#### Source

[src.ts/hash/typed-data.ts:388](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L388)

***

### encodeType()

> **encodeType**(`name`): `string`

Return the full type for `name`.

#### Parameters

• **name**: `string`

The name to get the full type for.

#### Returns

`string`

The full type.

#### Source

[src.ts/hash/typed-data.ts:375](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L375)

***

### getEncoder()

> **getEncoder**(`type`): (`value`) => `string`

Returnthe encoder for the specific `type`.

#### Parameters

• **type**: `string`

The type to get the encoder for.

#### Returns

`Function`

The encoder for the type.

##### Parameters

• **value**: `any`

##### Returns

`string`

#### Source

[src.ts/hash/typed-data.ts:317](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L317)

***

### hash()

> **hash**(`value`): `string`

Return the hash of the fully encoded `value` for the [**types**](TypedDataEncoder.md#types).

#### Parameters

• **value**: `Record`\<`string`, `any`\>

The value to hash.

#### Returns

`string`

The hash of the value.

#### Source

[src.ts/hash/typed-data.ts:419](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L419)

***

### hashStruct()

> **hashStruct**(`name`, `value`): `string`

Returns the hash of `value` for the type of `name`.

#### Parameters

• **name**: `string`

The name of the type.

• **value**: `Record`\<`string`, `any`\>

The value to hash.

#### Returns

`string`

The hash of the value.

#### Source

[src.ts/hash/typed-data.ts:399](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L399)

***

### visit()

> **visit**(`value`, `callback`): `any`

Call `calback` for each value in `value`, passing the type and
 component within `value`.

 This is useful for replacing addresses or other transformation that
 may be desired on each component, based on its type.

#### Parameters

• **value**: `Record`\<`string`, `any`\>

The value to visit.

• **callback**

The callback to call for each value.

#### Returns

`any`

The result of the callback.

#### Source

[src.ts/hash/typed-data.ts:463](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L463)

***

### encode()

> `static` **encode**(`domain`, `types`, `value`): `string`

Return the fully encoded [EIP-712](https://eips.ethereum.org/EIPS/eip-712)
 `value` for `types` with `domain`.

#### Parameters

• **domain**: [`TypedDataDomain`](../interfaces/TypedDataDomain.md)

The domain to use.

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to encode.

• **value**: `Record`\<`string`, `any`\>

The value to encode.

#### Returns

`string`

The encoded value.

#### Source

[src.ts/hash/typed-data.ts:533](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L533)

***

### from()

> `static` **from**(`types`): [`TypedDataEncoder`](TypedDataEncoder.md)

Create a new **TypedDataEncoder** for `types`.

#### Parameters

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to encode.

#### Returns

[`TypedDataEncoder`](TypedDataEncoder.md)

The encoder for the types.

#### Throws

If the types are invalid.

#### Source

[src.ts/hash/typed-data.ts:474](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L474)

***

### getPayload()

> `static` **getPayload**(`domain`, `types`, `value`): `any`

Returns the JSON-encoded payload expected by nodes which implement
 the JSON-RPC [EIP-712](https://eips.ethereum.org/EIPS/eip-712) method.

#### Parameters

• **domain**: [`TypedDataDomain`](../interfaces/TypedDataDomain.md)

The domain to use.

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to encode.

• **value**: `Record`\<`string`, `any`\>

The value to encode.

#### Returns

`any`

The JSON-encoded payload.

#### Source

[src.ts/hash/typed-data.ts:563](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L563)

***

### getPrimaryType()

> `static` **getPrimaryType**(`types`): `string`

Return the primary type for `types`.

#### Parameters

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to get the primary type for.

#### Returns

`string`

The primary type.

#### Throws

If the types are invalid.

#### Source

[src.ts/hash/typed-data.ts:485](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L485)

***

### hash()

> `static` **hash**(`domain`, `types`, `value`): `string`

Return the hash of the fully encoded [EIP-712](https://eips.ethereum.org/EIPS/eip-712)
 `value` for `types` with `domain`.

#### Parameters

• **domain**: [`TypedDataDomain`](../interfaces/TypedDataDomain.md)

The domain to use.

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to hash.

• **value**: `Record`\<`string`, `any`\>

The value to hash.

#### Returns

`string`

The hash of the value.

#### Source

[src.ts/hash/typed-data.ts:550](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L550)

***

### hashDomain()

> `static` **hashDomain**(`domain`): `string`

Return the domain hash for `domain`.

#### Parameters

• **domain**: [`TypedDataDomain`](../interfaces/TypedDataDomain.md)

The domain to hash.

#### Returns

`string`

The hash of the domain.

#### Throws

If the domain is invalid.

#### Source

[src.ts/hash/typed-data.ts:508](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L508)

***

### hashStruct()

> `static` **hashStruct**(`name`, `types`, `value`): `string`

Return the hashed struct for `value` using `types` and `name`.

#### Parameters

• **name**: `string`

The name of the type.

• **types**: `Record`\<`string`, [`TypedDataField`](../interfaces/TypedDataField.md)[]\>

The types to hash.

• **value**: `Record`\<`string`, `any`\>

The value to hash.

#### Returns

`string`

The hash of the value.

#### Source

[src.ts/hash/typed-data.ts:497](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/hash/typed-data.ts#L497)
