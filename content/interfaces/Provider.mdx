[**quais6**](../README.md) • **Docs**

***

[quais6](../globals.md) / Provider

# Interface: Provider

A **Provider** is the primary method to interact with the read-only
 content on Ethereum.

 It allows access to details about accounts, blocks and transactions
 and the ability to query event logs and simulate contract execution.

 Account data includes the [**balance**](Provider.md#getbalance),
 [**getTransactionCount**](Provider.md#gettransactioncount), [**code**](Provider.md#getcode) and
 [**state trie storage**](Provider.md#getstorage).

 Simulating execution can be used to [**call**](Provider.md#call),
 [**estimateGas**](Provider.md#estimategas) and
 [**get transaction result**](Provider.md#gettransactionresult).

 The [**broadcastTransaction**](Provider.md#broadcasttransaction) is the only method which allows updating
 the blockchain, but it is usually accessed by a [Signer](../interfaces/Signer), since a
 private key must be used to sign the transaction before it can be
 broadcast.

## Extends

- [`ContractRunner`](ContractRunner.md).[`EventEmitterable`](EventEmitterable.md)\<[`ProviderEvent`](../type-aliases/ProviderEvent.md)\>

## Properties

### provider

> **provider**: [`Provider`](Provider.md)

The provider iteself.

 This is part of the necessary API for executing a contract, as
 it provides a common property on any [**ContractRunner**](ContractRunner.md) that
 can be used to access the read-only portion of the runner.

#### Overrides

[`ContractRunner`](ContractRunner.md).[`provider`](ContractRunner.md#provider)

#### Source

[src.ts/providers/provider.ts:2499](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2499)

***

### sendTransaction()?

> `optional` **sendTransaction**: (`tx`) => `Promise`\<[`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

Required for state mutating calls

#### Parameters

• **tx**: [`TransactionRequest`](../type-aliases/TransactionRequest.md)

The transaction object.

#### Returns

`Promise`\<[`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

#### Inherited from

[`ContractRunner`](ContractRunner.md).[`sendTransaction`](ContractRunner.md#sendtransaction)

#### Source

[src.ts/providers/contracts.ts:47](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/contracts.ts#L47)

## Methods

### addListener()

> **addListener**(`event`, `listener`): `Promise`\<[`Provider`](Provider.md)\>

Alias for [**on**](EventEmitterable.md#on).

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• **listener**: [`Listener`](../type-aliases/Listener.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`addListener`](EventEmitterable.md#addlistener)

#### Source

[src.ts/utils/events.ts:67](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L67)

***

### broadcastTransaction()

> **broadcastTransaction**(`shard`, `signedTx`, `from`?): `Promise`\<[`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

Broadcasts the `signedTx` to the network, adding it to the
 memory pool of any node for which the transaction meets the
 rebroadcast requirements.

#### Parameters

• **shard**: `string`

The shard to broadcast the transaction to.

• **signedTx**: `string`

The signed transaction to broadcast.

• **from?**: [`AddressLike`](../type-aliases/AddressLike.md)

The address that signed the transaction.

#### Returns

`Promise`\<[`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

A promise resolving to the transaction response.

#### Throws

If the transaction is invalid or the transaction is replaced.

#### Source

[src.ts/providers/provider.ts:2646](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2646)

***

### call()

> **call**(`tx`): `Promise`\<`string`\>

Simulate the execution of `tx`. If the call reverts, it will
 throw a [CallExceptionError](../interfaces/CallExceptionError) which includes the revert data.

#### Parameters

• **tx**: [`TransactionRequest`](../type-aliases/TransactionRequest.md)

The transaction to simulate.

#### Returns

`Promise`\<`string`\>

A promise resolving to the result of the execution.

#### Overrides

`ContractRunner.call`

#### Throws

If the transaction execution reverts.

#### Source

[src.ts/providers/provider.ts:2633](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2633)

***

### destroy()

> **destroy**(): `void`

Shutdown any resources this provider is using. No additional
 calls should be made to this provider after calling this.

#### Returns

`void`

#### Source

[src.ts/providers/provider.ts:2505](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2505)

***

### emit()

> **emit**(`event`, ...`args`): `Promise`\<`boolean`\>

Triggers each listener for `event` with the `args`.

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• ...**args**: `any`[]

#### Returns

`Promise`\<`boolean`\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`emit`](EventEmitterable.md#emit)

#### Source

[src.ts/utils/events.ts:41](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L41)

***

### estimateGas()

> **estimateGas**(`tx`): `Promise`\<`bigint`\>

Estimates the amount of gas required to executre `tx`.

#### Parameters

• **tx**: [`TransactionRequest`](../type-aliases/TransactionRequest.md)

The transaction to estimate the gas for.

#### Returns

`Promise`\<`bigint`\>

A promise resolving to the estimated gas.

#### Overrides

`ContractRunner.estimateGas`

#### Throws

If the transaction execution reverts.

#### Source

[src.ts/providers/provider.ts:2623](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2623)

***

### getBalance()

> **getBalance**(`address`, `blockTag`?): `Promise`\<`bigint`\>

Get the account balance (in wei) of `address`. If `blockTag`
 is specified and the node supports archive access for that
 `blockTag`, the balance is as of that  [**BlockTag**](../type-aliases/BlockTag.md).

#### Parameters

• **address**: [`AddressLike`](../type-aliases/AddressLike.md)

The address to fetch the balance for.

• **blockTag?**: [`BlockTag`](../type-aliases/BlockTag.md)

The block tag to fetch the balance from.

#### Returns

`Promise`\<`bigint`\>

A promise resolving to the balance.

#### Note

On nodes without archive access enabled, the `blockTag` may be
 **silently ignored** by the node, which may cause issues if relied on.

#### Source

[src.ts/providers/provider.ts:2558](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2558)

***

### getBlock()

> **getBlock**(`shard`, `blockHashOrBlockTag`, `prefetchTxs`?): `Promise`\<`null` \| [`Block`](../classes/Block.md)\>

Resolves to the block for `blockHashOrBlockTag`.

 If `prefetchTxs`, and the backend supports including transactions
 with block requests, all transactions will be included and the
 [**Block**](../classes/Block.md) object will not need to make remote calls for getting
 transactions.

#### Parameters

• **shard**: `string`

The shard to fetch the block from.

• **blockHashOrBlockTag**: [`BlockTag`](../type-aliases/BlockTag.md)

The block hash or block tag to fetch.

• **prefetchTxs?**: `boolean`

If true, prefetch the transactions.

#### Returns

`Promise`\<`null` \| [`Block`](../classes/Block.md)\>

A promise resolving to the block or null if not found.

#### Throws

If the block is not found.

#### Source

[src.ts/providers/provider.ts:2666](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2666)

***

### getBlockNumber()

> **getBlockNumber**(`shard`): `Promise`\<`number`\>

Get the current block number.

#### Parameters

• **shard**: `string`

The shard to fetch the block number from.

#### Returns

`Promise`\<`number`\>

A promise resolving to the block number.

#### Source

[src.ts/providers/provider.ts:2516](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2516)

***

### getCode()

> **getCode**(`address`, `blockTag`?): `Promise`\<`string`\>

Get the bytecode for `address`.

#### Parameters

• **address**: [`AddressLike`](../type-aliases/AddressLike.md)

The address to fetch the code for.

• **blockTag?**: [`BlockTag`](../type-aliases/BlockTag.md)

The block tag to fetch the code from.

#### Returns

`Promise`\<`string`\>

A promise resolving to the code stored at the address.

#### Note

On nodes without archive access enabled, the `blockTag` may be
 **silently ignored** by the node, which may cause issues if relied on.

#### Source

[src.ts/providers/provider.ts:2597](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2597)

***

### getFeeData()

> **getFeeData**(`shard`): `Promise`\<[`FeeData`](../classes/FeeData.md)\>

Get the best guess at the recommended  [**FeeData**](../classes/FeeData.md).

#### Parameters

• **shard**: `string`

The shard to fetch the fee data from.

#### Returns

`Promise`\<[`FeeData`](../classes/FeeData.md)\>

A promise resolving to the fee data.

#### Source

[src.ts/providers/provider.ts:2532](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2532)

***

### getLogs()

> **getLogs**(`filter`): `Promise`\<[`Log`](../classes/Log.md)[]\>

Resolves to the list of Logs that match `filter`

#### Parameters

• **filter**: [`Filter`](Filter.md) \| [`FilterByBlockHash`](FilterByBlockHash.md)

The filter to apply.

#### Returns

`Promise`\<[`Log`](../classes/Log.md)[]\>

A promise resolving to the logs.

#### Source

[src.ts/providers/provider.ts:2712](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2712)

***

### getNetwork()

> **getNetwork**(`shard`?): `Promise`\<[`Network`](../classes/Network.md)\>

Get the connected [**Network**](../classes/Network.md).

#### Parameters

• **shard?**: `string`

The shard to fetch the network from.

#### Returns

`Promise`\<[`Network`](../classes/Network.md)\>

A promise resolving to the network.

#### Source

[src.ts/providers/provider.ts:2524](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2524)

***

### getOutpointsByAddress()

> **getOutpointsByAddress**(`address`): `Promise`\<`Outpoint`[]\>

Get the UTXO entries for `address`.

#### Parameters

• **address**: [`AddressLike`](../type-aliases/AddressLike.md)

The address to fetch the UTXO entries for.

#### Returns

`Promise`\<`Outpoint`[]\>

A promise resolving to the UTXO entries.

#### Note

On nodes without archive access enabled, the `blockTag` may be
 **silently ignored** by the node, which may cause issues if relied on.

#### Source

[src.ts/providers/provider.ts:2569](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2569)

***

### getPendingHeader()

> **getPendingHeader**(): `Promise`\<`WorkObjectLike`\>

Get a work object to package a transaction in.

#### Returns

`Promise`\<`WorkObjectLike`\>

A promise resolving to the work object.

#### Source

[src.ts/providers/provider.ts:2540](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2540)

***

### getProtocolExpansionNumber()

> **getProtocolExpansionNumber**(): `Promise`\<`number`\>

Resolves to the number indicating the size of the network

#### Returns

`Promise`\<`number`\>

A promise resolving to the current network size.

#### Source

[src.ts/providers/provider.ts:2742](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2742)

***

### getStorage()

> **getStorage**(`address`, `position`, `blockTag`?): `Promise`\<`string`\>

Get the storage slot value for `address` at slot `position`.

#### Parameters

• **address**: [`AddressLike`](../type-aliases/AddressLike.md)

The address to fetch the storage from.

• **position**: [`BigNumberish`](../type-aliases/BigNumberish.md)

The position to fetch the storage from.

• **blockTag?**: [`BlockTag`](../type-aliases/BlockTag.md)

The block tag to fetch the storage from.

#### Returns

`Promise`\<`string`\>

A promise resolving to the storage value.

#### Note

On nodes without archive access enabled, the `blockTag` may be
 **silently ignored** by the node, which may cause issues if relied on.

#### Source

[src.ts/providers/provider.ts:2610](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2610)

***

### getTransaction()

> **getTransaction**(`hash`): `Promise`\<`null` \| [`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

Resolves to the transaction for `hash`.

 If the transaction is unknown or on pruning nodes which
 discard old transactions this resolves to `null`.

#### Parameters

• **hash**: `string`

The transaction hash to fetch.

#### Returns

`Promise`\<`null` \| [`TransactionResponse`](../type-aliases/TransactionResponse.md)\>

A promise resolving to the transaction or null if not found.

#### Source

[src.ts/providers/provider.ts:2677](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2677)

***

### getTransactionCount()

> **getTransactionCount**(`address`, `blockTag`?): `Promise`\<`number`\>

Get the number of transactions ever sent for `address`, which
 is used as the `nonce` when sending a transaction. If
 `blockTag` is specified and the node supports archive access
 for that `blockTag`, the transaction count is as of that
 [**BlockTag**](../type-aliases/BlockTag.md).

#### Parameters

• **address**: [`AddressLike`](../type-aliases/AddressLike.md)

The address to fetch the transaction count for.

• **blockTag?**: [`BlockTag`](../type-aliases/BlockTag.md)

The block tag to fetch the transaction count from.

#### Returns

`Promise`\<`number`\>

A promise resolving to the transaction count.

#### Note

On nodes without archive access enabled, the `blockTag` may be
 **silently ignored** by the node, which may cause issues if relied on.

#### Source

[src.ts/providers/provider.ts:2585](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2585)

***

### getTransactionReceipt()

> **getTransactionReceipt**(`hash`): `Promise`\<`null` \| [`TransactionReceipt`](../classes/TransactionReceipt.md)\>

Resolves to the transaction receipt for `hash`, if mined.

 If the transaction has not been mined, is unknown or on
 pruning nodes which discard old transactions this resolves to
 `null`.

#### Parameters

• **hash**: `string`

The transaction hash to fetch the receipt for.

#### Returns

`Promise`\<`null` \| [`TransactionReceipt`](../classes/TransactionReceipt.md)\>

A promise resolving to the transaction receipt or null if not found.

#### Source

[src.ts/providers/provider.ts:2689](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2689)

***

### getTransactionResult()

> **getTransactionResult**(`hash`): `Promise`\<`null` \| `string`\>

Resolves to the result returned by the executions of `hash`.

 This is only supported on nodes with archive access and with
 the necessary debug APIs enabled.

#### Parameters

• **hash**: `string`

The transaction hash to fetch the result for.

#### Returns

`Promise`\<`null` \| `string`\>

A promise resolving to the result or null if not found.

#### Source

[src.ts/providers/provider.ts:2700](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2700)

***

### listenerCount()

> **listenerCount**(`event`?): `Promise`\<`number`\>

Resolves to the number of listeners for `event`.

#### Parameters

• **event?**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

#### Returns

`Promise`\<`number`\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`listenerCount`](EventEmitterable.md#listenercount)

#### Source

[src.ts/utils/events.ts:46](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L46)

***

### listeners()

> **listeners**(`event`?): `Promise`\<[`Listener`](../type-aliases/Listener.md)[]\>

Resolves to the listeners for `event`.

#### Parameters

• **event?**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

#### Returns

`Promise`\<[`Listener`](../type-aliases/Listener.md)[]\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`listeners`](EventEmitterable.md#listeners)

#### Source

[src.ts/utils/events.ts:51](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L51)

***

### off()

> **off**(`event`, `listener`?): `Promise`\<[`Provider`](Provider.md)\>

Unregister the `listener` for `event`. If `listener`
 is unspecified, all listeners are unregistered.

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• **listener?**: [`Listener`](../type-aliases/Listener.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`off`](EventEmitterable.md#off)

#### Source

[src.ts/utils/events.ts:57](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L57)

***

### on()

> **on**(`event`, `listener`): `Promise`\<[`Provider`](Provider.md)\>

Registers a `listener` that is called whenever the
 `event` occurs until unregistered.

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• **listener**: [`Listener`](../type-aliases/Listener.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`on`](EventEmitterable.md#on)

#### Source

[src.ts/utils/events.ts:30](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L30)

***

### once()

> **once**(`event`, `listener`): `Promise`\<[`Provider`](Provider.md)\>

Registers a `listener` that is called the next time
 `event` occurs.

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• **listener**: [`Listener`](../type-aliases/Listener.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`once`](EventEmitterable.md#once)

#### Source

[src.ts/utils/events.ts:36](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L36)

***

### removeAllListeners()

> **removeAllListeners**(`event`?): `Promise`\<[`Provider`](Provider.md)\>

Unregister all listeners for `event`.

#### Parameters

• **event?**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`removeAllListeners`](EventEmitterable.md#removealllisteners)

#### Source

[src.ts/utils/events.ts:62](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L62)

***

### removeListener()

> **removeListener**(`event`, `listener`): `Promise`\<[`Provider`](Provider.md)\>

Alias for [**off**](EventEmitterable.md#off).

#### Parameters

• **event**: [`ProviderEvent`](../type-aliases/ProviderEvent.md)

• **listener**: [`Listener`](../type-aliases/Listener.md)

#### Returns

`Promise`\<[`Provider`](Provider.md)\>

#### Inherited from

[`EventEmitterable`](EventEmitterable.md).[`removeListener`](EventEmitterable.md#removelistener)

#### Source

[src.ts/utils/events.ts:72](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/utils/events.ts#L72)

***

### waitForBlock()

> **waitForBlock**(`shard`, `blockTag`?): `Promise`\<[`Block`](../classes/Block.md)\>

Resolves to the block at `blockTag` once it has been mined.

 This can be useful for waiting some number of blocks by using
 the `currentBlockNumber + N`.

#### Parameters

• **shard**: `string`

The shard to fetch the block from.

• **blockTag?**: [`BlockTag`](../type-aliases/BlockTag.md)

The block tag to fetch.

#### Returns

`Promise`\<[`Block`](../classes/Block.md)\>

A promise resolving to the block.

#### Source

[src.ts/providers/provider.ts:2735](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2735)

***

### waitForTransaction()

> **waitForTransaction**(`hash`, `confirms`?, `timeout`?): `Promise`\<`null` \| [`TransactionReceipt`](../classes/TransactionReceipt.md)\>

Waits until the transaction `hash` is mined and has `confirms`
 confirmations.

#### Parameters

• **hash**: `string`

The transaction hash to wait for.

• **confirms?**: `number`

The number of confirmations to wait for.

• **timeout?**: `number`

The number of milliseconds to wait before timing out.

#### Returns

`Promise`\<`null` \| [`TransactionReceipt`](../classes/TransactionReceipt.md)\>

A promise resolving to the transaction receipt or null if not found.

#### Source

[src.ts/providers/provider.ts:2723](https://github.com/dominant-strategies/quais-6.js/blob/aca1855329c3946c627ab7f16ac5304cea7d20c5/src.ts/providers/provider.ts#L2723)
